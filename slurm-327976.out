  0%|          | 0/4 [00:00<?, ?it/s]sys:1: DtypeWarning: Columns (18,22,30,36,38) have mixed types. Specify dtype option on import or set low_memory=False.
GenerateDemandEstimationData.py:160: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: http://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  year_data[characteristic] = year_data['upc'].map(features_map[characteristic])
 25%|██▌       | 1/4 [00:03<00:11,  3.73s/it] 50%|█████     | 2/4 [00:08<00:07,  3.92s/it]sys:1: DtypeWarning: Columns (18,22,24,28,30,36,38) have mixed types. Specify dtype option on import or set low_memory=False.
 75%|███████▌  | 3/4 [00:12<00:04,  4.14s/it]sys:1: DtypeWarning: Columns (22,30) have mixed types. Specify dtype option on import or set low_memory=False.
100%|██████████| 4/4 [00:17<00:00,  4.36s/it]100%|██████████| 4/4 [00:17<00:00,  4.40s/it]
['2007' '2008' '2009' '2006']
(2895907, 38)
Index(['Unnamed: 0', 'upc', 'dma_code', 'month', 'volume', 'price',
       'size1_amount', 'size1_units', 'brand_descr', 'owner initial',
       'owner last', 'y-m-d', 'year', '# month', 'market_size',
       'market_size_DMA', 'market_share', 'postmerger', 'month_since_start',
       'involved', 'involvedpostmerger', 'product-region', 'time', 'cpiu',
       'price_index', 'adjusted_price', 'log_adjusted_price',
       'hhinc_per_person_mean', 'hhinc_per_person_median', 'employment_rate',
       'adjusted_hhinc_per_person_mean', 'log_adjusted_hhinc_per_person_mean',
       'log_employment_rate', 'product', 'upc_dma_code', 'distance', 'y-m',
       'style_descr'],
      dtype='object')
        time     wheat        t
0   7/1/1959  1.954636  1959-07
1   8/3/1959  1.958810  1959-08
2   9/1/1959  1.962905  1959-09
3  10/1/1959  1.981318  1959-10
4  11/2/1959  2.005690  1959-11
       time  barley        t
0  4/1/2000   76.95  2000-04
1  5/1/2000   78.26  2000-05
2  6/1/2000   78.48  2000-06
3  7/1/2000   78.68  2000-07
4  8/1/2000   75.13  2000-08
['dma_code_month', 'adjusted_price', 'market_share', 'distance', 'y-m', 'upc', 'style_descr', 'wheat', 'barley']
  dma_code_month  adjusted_price  ...     wheat      barley
0      500200601        0.134551  ...  4.356919  134.774562
1      501200601        0.127685  ...  4.356919  134.774562
2      502200601        0.113288  ...  4.356919  134.774562
3      503200601        0.109541  ...  4.356919  134.774562
4      504200601        0.129549  ...  4.356919  134.774562

[5 rows x 9 columns]
  market_ids    prices  ...  demand_instruments1  demand_instruments2
0  500200601  0.134551  ...             4.356919           134.774562
1  501200601  0.127685  ...             4.356919           134.774562
2  502200601  0.113288  ...             4.356919           134.774562
3  503200601  0.109541  ...             4.356919           134.774562
4  504200601  0.129549  ...             4.356919           134.774562

[5 rows x 9 columns]
Initializing the problem ...
Absorbing demand-side fixed effects ...
Initialized the problem after 00:02:21.

Dimensions:
===============================
 T       N      K1    MD    ED 
----  -------  ----  ----  ----
9721  2895907   2     4     2  
===============================

Formulations:
===============================================
     Column Indices:          0          1     
--------------------------  ------  -----------
X1: Linear Characteristics  prices  style_descr
===============================================
Dimensions:
===============================
 T       N      K1    MD    ED 
----  -------  ----  ----  ----
9721  2895907   2     4     2  
===============================

Formulations:
===============================================
     Column Indices:          0          1     
--------------------------  ------  -----------
X1: Linear Characteristics  prices  style_descr
===============================================
Solving the problem ...
Updating the weighting matrix ...
Computed results after 00:00:03.

Problem Results Summary:
=====================================
GMM     Objective    Weighting Matrix
Step      Value      Condition Number
----  -------------  ----------------
 1    +3.714880E-04   +3.037176E+33  
=====================================

Estimating standard errors ...
Computed results after 00:00:02.

Problem Results Summary:
========================================================
GMM     Objective    Weighting Matrix  Covariance Matrix
Step      Value      Condition Number  Condition Number 
----  -------------  ----------------  -----------------
 2    +3.060495E-27   +3.151570E+26      +2.447784E+02  
========================================================

Cumulative Statistics:
========================
Computation   Objective 
   Time      Evaluations
-----------  -----------
 00:00:05         2     
========================

Beta Estimates (Robust SEs in Parentheses):
================================
    prices         style_descr  
---------------  ---------------
 -1.715520E+01    -2.726456E-02 
(+1.639644E+00)  (+1.056417E-01)
================================
Problem Results Summary:
========================================================
GMM     Objective    Weighting Matrix  Covariance Matrix
Step      Value      Condition Number  Condition Number 
----  -------------  ----------------  -----------------
 2    +3.060495E-27   +3.151570E+26      +2.447784E+02  
========================================================

Cumulative Statistics:
========================
Computation   Objective 
   Time      Evaluations
-----------  -----------
 00:00:05         2     
========================

Beta Estimates (Robust SEs in Parentheses):
================================
    prices         style_descr  
---------------  ---------------
 -1.715520E+01    -2.726456E-02 
(+1.639644E+00)  (+1.056417E-01)
================================
